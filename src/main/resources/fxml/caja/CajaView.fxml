<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/22"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.ferre.controller.caja.CajaController"
      spacing="12">

    <padding>
        <Insets topRightBottomLeft="12.0"/>
    </padding>

    <children>

        <Label text="Cobro de Factura" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

        <!-- Cabecera -->
        <GridPane hgap="10" vgap="6">
            <columnConstraints>
                <ColumnConstraints minWidth="90" halignment="RIGHT"/>
                <ColumnConstraints hgrow="ALWAYS"/>
                <ColumnConstraints minWidth="90" halignment="RIGHT"/>
                <ColumnConstraints hgrow="ALWAYS"/>
            </columnConstraints>

            <children>
                <Label text="Factura:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="lblFactura" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Cliente:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                <Label fx:id="lblCliente" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                <Label text="Vendedor:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <Label fx:id="lblVendedor" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Fecha:" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                <Label fx:id="lblFecha" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                <Label text="Total:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <Label fx:id="lblTotal" GridPane.rowIndex="2" GridPane.columnIndex="1" style="-fx-font-weight: bold;"/>
            </children>
        </GridPane>

        <!-- Ingreso de pagos -->
        <HBox spacing="10">
            <children>
                <ComboBox fx:id="cmbForma" promptText="Forma de pago" prefWidth="220"/>
                <TextField fx:id="txtMonto" prefWidth="200" promptText="Monto (abono)"/>
                <Button fx:id="btnAgregarPago" text="Agregar" onAction="#agregarPago"/>
            </children>
        </HBox>

        <!-- Tabla de pagos -->
        <TableView fx:id="tblPagos" prefHeight="220">
            <columns>
                <TableColumn fx:id="colForma" text="Forma" prefWidth="250"/>
                <TableColumn fx:id="colMonto" text="Monto" prefWidth="160"/>
            </columns>
        </TableView>

        <!-- Totales y acciÃ³n -->
        <HBox spacing="20" alignment="CENTER_RIGHT">
            <children>
                <Label text="Pagado:"/>
                <Label fx:id="lblPagado" style="-fx-font-weight: bold;"/>

                <Label text="Saldo:"/>
                <Label fx:id="lblSaldo" style="-fx-font-weight: bold;"/>

                <Button fx:id="btnCobrar" text="Registrar pagos" onAction="#cobrar"/>
            </children>
        </HBox>

    </children>
</VBox>
